# PRODUCTION_PIPELINE_RULE

## 버전: v1.1
## 최종 수정: 2026-02-14
## 승인: PD 박세준
## 적용 범위: 전사 공통 (모든 제작·수정·검수 작업)

---

## 목적

모든 작업에서 "지금 파이프라인 어디에 있는지" 상태 흐름이 보이게 만든다.
텍스트로만 설명하는 게 아니라, n8n형 노드 기반 진행도를 가시화한다.

**핵심: "문제는 디자인이 아니라, 규칙확인 없이 바로 만드는 구조였다."**

---

## 상태 아이콘 규칙

```
⬜  대기
🔄  진행중
✅  완료
❌  실패
🔁  재작업
```

---

## PIPELINE STATUS (필수 표시)

모든 작업 응답 상단에 반드시 표시:

```
━━━━━ PIPELINE STATUS ━━━━━
[1] 규칙확인        ⬜
[2] 규칙잠금        ⬜
[3] 생성            ⬜
[4] 자가검증        ⬜
[5] 제출            ⬜
━━━━━━━━━━━━━━━━━━━━━━━━━━
```

### 진행 중 예시

```
━━━━━ PIPELINE STATUS ━━━━━
[1] 규칙확인        ✅ 완료
[2] 규칙잠금        ✅ 완료
[3] 생성            🔄 진행중
[4] 자가검증        ⬜ 대기
[5] 제출            ⬜ 대기
━━━━━━━━━━━━━━━━━━━━━━━━━━
```

### 실패 시 예시

```
━━━━━ PIPELINE STATUS ━━━━━
[1] 규칙확인        ✅
[2] 규칙잠금        ✅
[3] 생성            ✅
[4] 자가검증        ❌ (폰트 불일치)
[5] 제출            ⬜
━━━━━━━━━━━━━━━━━━━━━━━━━━
→ STEP 3 롤백: 생성 🔁 재작업
```

**상태 표시 없이 답변 금지.**

---

## 5대 원칙

```
1. 무조건 STEP 1부터 시작
2. 중간 단계 생략 금지
3. 상태 표시 없이 답변 금지
4. 완료 선언은 체크리스트 통과 후만 가능
5. 사람이 아니라 프로세스가 판단
```

---

## STEP 1: 규칙확인 (Pre-Check Gate)

작업 시작 전 반드시 확인하고 출력.

### 확인 항목

```
□ 적용 RULE 문서 + 버전
□ 골든 기준 샘플 존재 여부
□ 폰트 종류/굵기/크기 고정 여부
□ 해상도 고정 여부
□ 레이아웃 고정 여부
□ 색상 체계 고정 여부
□ 네이밍 규칙
□ 폴더 경로
```

### 출력 형식 (필수)

```
[규칙확인 결과]

- 디자인 기준: {RULE 문서명} {버전}
- 기준 샘플: {골든 샘플 위치}
- 해상도: {해상도}
- 폰트: {폰트명} / {굵기} / {크기}
- 배지 규칙: {규칙}
- 표 규칙: {규칙}
- 색상 체계: {적용 색상}
- 네이밍: {규칙}
- 폴더: {경로}

→ 이상 없음. STEP 2 진행.
```

**이 출력이 없으면 STEP 2 진입 불가.**
**규칙확인 없이 생성하면 전량 무효 처리.**

---

## STEP 2: 규칙잠금 (Rule Lock)

작업자가 명시적으로 선언.

### 선언 형식 (필수)

```
[규칙잠금 선언]

기준 샘플: {무엇을 복제하는가}
변경 범위: {무엇만 바꾸는가}
금지 범위: {무엇을 안 바꾸는가}

→ 잠금 완료. STEP 3 진행.
```

### 선언 예시

```
[규칙잠금 선언]

기준 샘플: SAFE 03~07 레이아웃 100% 복제
변경 범위: 색상(안전도별) + 텍스트 내용만 변경
금지 범위: 폰트/크기/여백/패딩/카드위치/헤더높이 변경 금지

→ 잠금 완료. STEP 3 진행.
```

**이 선언이 없으면 레이아웃 변형 발생 → 전량 재작업.**

---

## STEP 3: 생성

여기서야 제작 시작.

### 생성 규칙

```
✅ 허용:
  - STEP 2에서 선언한 변경 범위만 실행
  - 배지 너비 자동 조정 (글자 수 기반)

❌ 금지:
  - STEP 2 금지 범위에 해당하는 모든 변경
  - 선언하지 않은 변경
```

---

## STEP 4: 자가검증

제출 전 반드시 체크.

### 자가검증 체크리스트

```
[폰트]
□ 폰트 종류 기준 샘플과 동일
□ 폰트 크기 기준 샘플과 동일
□ 폰트 굵기 기준 샘플과 동일

[레이아웃]
□ 여백/패딩 기준 샘플과 동일
□ 카드 크기/위치 기준 샘플과 동일
□ 헤더 높이 기준 샘플과 동일

[요소]
□ 배지 overflow 없음
□ 표 중앙정렬 확인
□ 번호 아이콘 수직 중앙

[규격]
□ 해상도 규격 준수

[비교]
□ 기준 샘플과 나란히 비교 완료
□ 차이점 0건 확인 (변경 범위 제외)
```

### 자가검증 출력 형식 (필수)

```
[자가검증 결과]

폰트: ✅ 동일
레이아웃: ✅ 동일
배지: ✅ overflow 없음
표: ✅ 중앙정렬
해상도: ✅ 1080x1350
비교: ✅ 차이점 0건

→ 전항목 통과. STEP 5 진행.
```

**1건이라도 ❌이면 STEP 3 롤백.**

---

## STEP 5: 제출

### 제출 포맷 (고정)

```
[제출]

1. 생성 파일 목록 (파일명 + 경로)
2. 적용 규칙 버전
3. 기준 샘플 대비 비교 스크린샷
4. 이슈 여부 (있으면 상세, 없으면 "없음")
5. RULE-REPORT-001 (누락 있으면 사유+보완법)

→ 제출 완료. PD 검수 대기.
```

---

## 롤백 규칙

### 실패 시 자동 롤백

```
STEP 4 실패 → STEP 3 롤백 (재생성)
STEP 3 실패 → STEP 2 재확인 (선언 재검토)
STEP 2 실패 → STEP 1 롤백 (규칙 재확인)
```

### 롤백 표시

```
━━━━━ PIPELINE STATUS ━━━━━
[1] 규칙확인        ✅
[2] 규칙잠금        ✅
[3] 생성            🔁 재작업 (사유: 폰트 불일치)
[4] 자가검증        ⬜
[5] 제출            ⬜
━━━━━━━━━━━━━━━━━━━━━━━━━━
```

### PD 반려 시

```
PD 반려 → STEP 4부터 재시작
PD 반려 사유가 구조적 → STEP 1부터 재시작
```

---

## 적용 범위

전사 공통. 아래 모든 작업에 적용:

```
- 블로그 슬라이드 제작 (03~07)
- 커버 이미지 제작 (01)
- 인포그래픽 제작
- 캡션 생성 (공장형 포함)
- 텍스트 오버레이
- 폴더/파일 구조 변경
- QC 스크립트 수정
- 기타 모든 콘텐츠 제작/수정
```

---

## 위반 사례

```
❌ PIPELINE STATUS 없이 답변 → 응답 무효
❌ STEP 1 없이 바로 생성 → 전량 폐기
❌ STEP 2 선언 없이 레이아웃 변형 → 전량 재작업
❌ STEP 4 자가검증 없이 제출 → PD 반려
❌ 비교 스크린샷 없이 제출 → 불완전 보고
❌ 실패 후 롤백 없이 다음 단계 진행 → 프로세스 위반
```

---

**이 규칙은 PD 승인 없이 수정 불가.**
