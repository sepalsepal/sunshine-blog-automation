# 세션 프로토콜

## 버전: 1.0
## 최종 수정: 2026-02-14

---

## 목적

Claude Code 세션 시작/종료 시 준수해야 할 프로토콜을 정의한다.

---

## 세션 시작 체크리스트

세션 시작 시 아래를 자동 수행:

```
1. ✅ CLAUDE.md 읽음
2. ✅ RULES.md 전문 확인
3. ✅ .env 로드 확인 (API 키)
4. ✅ PD 첫 지시 대기
```

**첫 응답에 포함:**
> "CLAUDE.md 로드 완료. RULES.md 기준으로만 작업합니다."

---

## 룰 확인 (세션 중)

**트리거:** "룰 확인", "규칙 확인", "rule check"

**응답 포맷:**
```
━━━━━━━━━━━━━━━━━━━━━━
📋 현재 작업: [WO-XXX] [작업명]
━━━━━━━━━━━━━━━━━━━━━━

[적용 규칙]
[불가침 항목] ❌
[허용 범위] ✅
[Validator 체크리스트]
[현재 상태]
[다음 단계]
━━━━━━━━━━━━━━━━━━━━━━
```

---

## 커밋 (세션 종료)

**트리거:** "커밋", "commit", "작업 완료"

**응답 포맷:**
```
━━━━━━━━━━━━━━━━━━━━━━
✅ COMMIT: [WO-XXX] [작업명]
━━━━━━━━━━━━━━━━━━━━━━

[완료 항목]
[Validator 결과]
[생성 파일]
[변경 사항]
[다음 작업 예고]
[커밋 시간]
━━━━━━━━━━━━━━━━━━━━━━
```

---

## 새 세션 시작 시

새 Claude 세션을 시작할 때:

1. BOOTSTRAP.md 첨부
2. Project_Sunshine_Instructions.md 첨부
3. FILE_MANAGEMENT_RULES_v1.0.md 첨부
4. "김부장, 이어서 작업" 또는 "최부장, 이어서 작업" 입력

---

## 금지 사항

| 금지 | 이유 |
|------|------|
| RULES.md 읽지 않고 작업 | 규칙 위반 위험 |
| 규칙에 없는 파라미터 사용 | 검증되지 않은 동작 |
| Validator FAIL 상태로 완료 보고 | 품질 기준 미달 |
| 비용 발생 작업 무단 실행 | 승인 필요 |

---

## 세션 상태 유지

세션 중 기억해야 할 항목:

```
- 현재 작업 WO 번호
- 적용 중인 규칙 버전
- 완료된 항목
- 남은 항목
- 발견된 이슈
```

---

## 에러 대응

| 에러 | 대응 |
|------|------|
| 규칙 충돌 | 작업 중단 → PD 보고 |
| 파일 손실 | Backup 확인 → 복구 시도 |
| API 실패 | 재시도 (3회) → 수동 처리 보고 |
| QC FAIL | 불합격 항목 수정 → 재검사 |
