# 텍스트 오버레이 규칙

## 버전: 1.1
## 최종 수정: 2026-02-15

---

## 목적

이미지에 텍스트를 합성할 때 준수해야 할 공통 규칙을 정의한다.

---

## 규칙

### 1. 폰트 선택

| 용도 | 1순위 폰트 | 대체 폰트 |
|------|----------|----------|
| 표지 (한글) | BlackHanSans-Regular | NanumGothic-ExtraBold |
| 표지 (영문) | BlackHanSans-Regular | NanumGothic-ExtraBold |
| 인포그래픽 제목 | NotoSansCJK-Bold | - |
| 인포그래픽 본문 | NotoSansCJK-Regular | - |

**금지:**
- NotoSansCJK를 표지에 사용 금지

---

### 2. 드롭 쉐도우

| 항목 | 값 |
|------|---|
| 방식 | 별도 레이어 + GaussianBlur |
| 색상 | RGBA(0,0,0,100) |
| 오프셋 | X=2px, Y=2px |
| 블러 | radius=3 |

**금지:**
- stroke_width 사용 금지
- PIL/Pillow stroke 파라미터 금지

---

### 3. 가독성 확보

- 밝은 배경: 어두운 텍스트 (#333333)
- 어두운 배경: 밝은 텍스트 (#FFFFFF)
- 배경 대비 명도차 최소 4.5:1 (WCAG AA 기준)
- 복잡한 배경: 그라데이션 오버레이 추가

---

### 4. 그라데이션 오버레이

| 위치 | 영역 | 알파 | 비고 |
|------|------|------|------|
| 표지 | - | - | **금지** (COVER_RULE.md 참조) |
| 인포그래픽 헤더 | 상단 25% | 80 → 0 | 선택적 |
| 하단 (CTA) | 30% | 0 → 80 | 선택적 |

> **주의:** 표지(커버) 이미지에는 그라데이션 오버레이 사용 금지

---

### 5. 텍스트 정렬

| 용도 | X 정렬 | Y 기준 |
|------|--------|--------|
| 표지 제목 | 중앙 | 상단에서 고정 px |
| 인포그래픽 헤더 | 중앙 | 상단에서 고정 px |
| 카드 제목 | 왼쪽 | 카드 내 상대 위치 |
| 카드 설명 | 왼쪽 | 제목 아래 |

---

### 6. 이모지/특수문자 처리

**기본 원칙:** 이미지 렌더링 시 이모지 직접 사용 금지

| 원래 이모지 | 대체 방법 |
|-------------|-----------|
| ⚠️ (경고) | 텍스트 "주의:" |
| ✅ (체크) | 초록 원형 + "V" |
| ❌ (X표시) | 빨강 원형 + "X" |
| 🚨 (경보) | 텍스트 "긴급:" |
| 💡 (팁) | 텍스트 "TIP:" |

**이유:** 대부분의 폰트가 이모지 미지원 → □□ 박스 렌더링

> **상세 규칙:** `BLOG_SLIDE_DESIGN_RULE.md §9` 참조

---

## 위반 사례

| 위반 | 사례 |
|------|------|
| stroke 사용 | `draw.text(..., stroke_width=2)` |
| 가독성 부족 | 흰 배경에 노란 텍스트 |
| 폰트 혼용 | 표지에 NotoSansCJK 사용 |
| 정렬 오류 | 왼쪽 정렬해야 할 곳에 중앙 정렬 |
| 이모지 사용 | 이미지에 ⚠️, ✅ 등 이모지 직접 사용 |

---

## Validator 체크리스트

```
□ 폰트 규칙 준수 (용도별)
□ 드롭 쉐도우 레이어 방식
□ stroke_width 미사용
□ 가독성 확보 (명도차 4.5:1 이상)
□ 정렬 규칙 준수
□ 텍스트 깨짐 없음
□ 이모지 미사용 (텍스트 대체어 사용)
```
