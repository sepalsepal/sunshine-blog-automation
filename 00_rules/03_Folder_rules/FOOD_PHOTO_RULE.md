# 음식 사진 이미지 규칙 (FOOD_PHOTO_RULE)

> WO-2026-0216 | 버전 1.1 | 2026-02-16
> WO-2026-0216-PROCESS-FIX 반영

## 1. 개요

음식 사진 이미지(Common_02_Food)의 업로드, 배포, 네이밍에 관한 규칙.

---

## 2. 파일 네이밍 규칙

### 2.1 최종 파일명 형식

```
{번호}_{영문명}_Common_02_Food.png
```

**예시:**
- `017_Peach_Common_02_Food.png`
- `058_Kimchi_Common_02_Food.png`
- `150_ChocolateCake_Common_02_Food.png`

### 2.2 영문명 규칙

| 항목 | 규칙 |
|-----|------|
| 대소문자 | PascalCase (첫 글자 대문자) |
| 공백 | 없음 (단어 연결 시 대문자 구분) |
| 특수문자 | 사용 금지 |

**예시:** `BananaMilk`, `EggYolk`, `ChickenBreast`

---

## 3. 업로드 절차

### 3.1 업로드 위치

```
01_contents/000_CleanReady/02_food/
```

### 3.2 업로드 파일명 형식 (임시)

huggingface에서 다운로드 시 자동 생성되는 형식:
```
hf_{날짜}_{시간}_{UUID}.png
```

**예시:** `hf_20260216_050112_de3b0eb4-f417-4104-8e94-df5f407bd118.png`

---

## 4. 배포 절차

### 4.1 배포 작업 순서 (필수)

> **핵심 원칙: 노션 DB가 단일 진실 원천(Single Source of Truth). 로컬 폴더가 아님.**

```
[1] 노션 DB 전체 음식 목록 조회 (먼저!)
[2] 이미지 식별 (어떤 음식인지 확인)
[3] 이미지 ↔ 노션 번호 매핑
[4] 로컬 폴더 존재 여부 확인 → 없으면 생성
[5] 이미지 배포 (네이밍 규칙 준수)
[6] 노션 동기화 (음식사진_2 상태 업데이트)
```

⚠️ **금지 사항:**
- 로컬 폴더만으로 "새 폴더 필요" 판단 금지
- 반드시 노션 먼저 조회 후 매핑

### 4.2 배포 명령어 예시

```bash
# 복사 및 이름 변경
cp "000_CleanReady/02_food/hf_xxxxx.png" "017_Peach/017_Peach_Common_02_Food.png"

# 노션 동기화
python3 scripts/notion_food_photo_sync.py
```

---

## 5. 노션 연동

### 5.1 관련 속성

| 속성명 | 타입 | 값 |
|-------|------|-----|
| 음식사진_2 | status | 완료 / PENDING |

### 5.2 동기화 스크립트

```
scripts/notion_food_photo_sync.py
```

---

## 6. 매핑 테이블 (노션 번호 ↔ 폴더명)

노션 DB의 `번호` 속성과 `이름` 속성을 기준으로 폴더명 결정:

```
노션 번호: 17
노션 이름: peach
→ 폴더명: 017_Peach
→ 파일명: 017_Peach_Common_02_Food.png
```

**PascalCase 변환:**
- `peach` → `Peach`
- `egg_yolk` → `EggYolk`
- `banana_milk` → `BananaMilk`

---

## 7. 이미지 사양

| 항목 | 사양 |
|-----|------|
| 형식 | PNG |
| 해상도 | 1024x1024 이상 |
| 배경 | 밝은 대리석 또는 흰색 배경 |
| 물방울 | 신선함 표현용 물방울 포함 |

---

## 8. 체크리스트

배포 전 확인 사항:

- [ ] 이미지 음식 식별 완료
- [ ] 노션에서 번호/영문명 확인
- [ ] 대상 폴더 존재 확인
- [ ] 파일명 네이밍 규칙 준수
- [ ] 노션 동기화 완료

---

_마지막 업데이트: 2026-02-16 (v1.1 프로세스 개선)_
