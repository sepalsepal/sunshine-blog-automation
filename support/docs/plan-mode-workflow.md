# 📋 Plan 모드 워크플로우 가이드

> "좋은 계획이 정말 중요하다. 실행은 빠르게, 계획에서 시간을 쓰는 방식" - Boris Cherny

## Plan 모드란?

Claude와 계획을 충분히 주고받아 만족스러운 플랜을 만든 후,
auto-accept edits 모드로 전환하여 1-shot으로 작업을 완료하는 방식입니다.

## 워크플로우

### Phase 1: 계획 수립 (Plan 모드)
```
1. 목표 명확화
   - 무엇을 만들 것인가?
   - 성공 기준은?
   - 제약 사항은?

2. 접근 방식 논의
   - 어떤 방식으로 구현할 것인가?
   - 대안은 무엇인가?
   - 리스크는?

3. 단계별 계획
   - Step 1: ...
   - Step 2: ...
   - Step 3: ...

4. 검증 방법
   - 어떻게 성공을 확인할 것인가?
   - 테스트 케이스는?
```

### Phase 2: 실행 (Auto-accept 모드)
```
계획이 확정되면:
1. Shift+Tab으로 auto-accept 모드 전환
2. "계획대로 실행해줘" 지시
3. Claude가 1-shot으로 작업 완료
4. 결과 검증
```

## 예시: 새 주제 "grape" 추가

### 🔵 Plan 모드 대화

**나:** grape 주제를 추가하려고 해. 계획 세워줘.

**Claude:**
```
grape 주제 추가 계획:

1. 목표
   - config/grape_text.json 생성 (10장 슬라이드)
   - config/image_prompts/grape.md 생성
   - agents/caption.py food_database 업데이트

2. 텍스트 구성 계획
   - 표지: "강아지가 먹어도 되는 포도? 🍇"
   - 결론: 포도는 강아지에게 독성! 절대 금지!
   - 중간: 왜 위험한지, 증상, 대처법

3. 이미지 프롬프트 계획
   - 경고 느낌의 비주얼
   - 빨간색/노란색 경고 컬러
   - 포도 + 금지 마크

4. 검증
   - --dry-run 테스트
   - 팩트체크 (독성 정보 정확성)
```

**나:** 좋아, 포도는 독성이라 "먹으면 안 되는 음식" 컨셉으로 가자. 경고 톤으로.

**Claude:**
```
수정된 계획:

1. 컨셉: "경고! 강아지에게 절대 주면 안 되는 포도"
   
2. 슬라이드 구성:
   - 표지: "🚫 포도, 강아지에게 절대 금지!"
   - 2장: 포도가 위험한 이유
   - 3장: 독성 물질 (타르타르산)
   - 4장: 소량도 위험
   - 5장: 증상 (구토, 설사, 신부전)
   - 6장: 건포도도 마찬가지
   - 7장: 먹었을 때 대처법
   - 8장: 즉시 병원 방문
   - 9장: 안전한 대체 과일
   - 10장: 마무리 경고 + CTA

3. 색상 톤: 빨강/검정 (경고)

이 계획으로 진행할까요?
```

**나:** 완벽해. 실행해줘.

### 🟢 Auto-accept 모드 전환

```
[Shift+Tab 눌러서 auto-accept 모드 전환]

나: 위 계획대로 모두 생성해줘.

Claude: [자동으로 모든 파일 생성 및 수정]
✅ config/grape_text.json 생성 완료
✅ config/image_prompts/grape.md 생성 완료
✅ agents/caption.py 업데이트 완료
✅ 테스트 실행 완료

grape 주제 추가가 완료되었습니다!
```

## Plan 모드 체크리스트

### 계획 수립 시 확인
- [ ] 목표가 명확한가?
- [ ] 성공 기준이 정의되었는가?
- [ ] 단계가 구체적인가?
- [ ] 리스크가 식별되었는가?
- [ ] 검증 방법이 있는가?

### 실행 전 확인
- [ ] 계획에 동의하는가?
- [ ] 빠진 단계는 없는가?
- [ ] 예상 결과물이 명확한가?

## 언제 Plan 모드를 사용하는가?

### ✅ 사용해야 할 때
- 새로운 기능 추가
- 복잡한 버그 수정
- 아키텍처 변경
- 대규모 리팩토링
- 새 주제/콘텐츠 추가

### ❌ 사용하지 않아도 될 때
- 단순한 오타 수정
- 문서 업데이트
- 간단한 설정 변경
- 이미 계획된 반복 작업

## Plan 모드 프롬프트 템플릿

```
[목표]: {무엇을 하고 싶은지}
[배경]: {왜 필요한지}
[제약사항]: {지켜야 할 규칙}
[성공 기준]: {어떻게 성공을 확인할지}

이 작업에 대한 상세 계획을 세워줘.
각 단계별로 무엇을 할지, 예상 결과물이 뭔지 알려줘.
```

## 팁

1. **계획에 충분한 시간 투자**: 실행은 빠르지만 계획은 꼼꼼히
2. **대안 고려**: "다른 방법은 없나?"라고 물어보기
3. **검증 포함**: 계획에 항상 검증 단계 포함
4. **점진적 확정**: 전체 계획이 아닌 단계별로 확정해도 OK
5. **기록 유지**: 좋은 계획은 CLAUDE.md에 기록
