# Project Sunshine — Claude Code 운영 규칙

> 이 파일은 세션 시작 시 자동 로드됩니다.
> 아래 규칙을 읽지 않은 상태에서의 작업은 전부 무효입니다.

---

## 🔒 제1원칙: RULES.md가 유일한 기준

1. **RULES.md를 반드시 먼저 읽고 시작할 것**
   - 경로: `./RULES.md`
   - 세션 시작 후 첫 작업 전에 반드시 전문 확인

2. **RULES.md에 없는 기준은 존재하지 않는 것으로 간주**
   - 과거 대화, 기억, 추론으로 규칙을 만들지 않음
   - "예전에 이렇게 했으니까"는 근거가 아님

3. **규칙 충돌 시 → 작업 중단 → PD에게 보고**
   - 자의적 판단으로 규칙을 우회하지 않음

---

## 📋 핵심 SOP 목록 (RULES.md 내 위치)

| SOP | 위치 | 트리거 |
|-----|------|--------|
| 블로그 본문 제작 | §2~§6 | "OOO 본문 만들어" |
| 캡션 작성 | §6, §6.5, §6.6 | "OOO 캡션 만들어" |
| 표지 생성 | §8 v2.0 | "OOO 표지 만들어" |
| 인스타+쓰레드 게시 | §9 | "OOO 게시해" |
| 네이버 블로그 HTML | §10 | "OOO 블로그 준비해" |

→ PD 지시가 위 트리거에 해당하면 RULES.md 해당 섹션의 SOP대로 실행.
→ 김부장 작업지시서 없이 직접 실행 가능.

---

## ⚠️ 금지 사항

1. **RULES.md를 읽지 않고 작업 시작하는 것**
2. **규칙에 없는 파라미터를 임의로 사용하는 것**
   - 표지: stroke_width 사용 금지 (§8.6)
   - 폰트: NotoSansCJK를 표지에 사용 금지 (§8.6)
3. **Cloudinary 중복 업로드** (§8.6, §9.3)
4. **Validator FAIL 상태에서 "완성"으로 보고하는 것** (§10.3.5)
5. **비용 발생 작업을 PD 승인 없이 실행하는 것**
6. **소스 파일 원본을 수정/이동하는 것** (원본보존원칙)

---

## 🔑 주요 경로

| 항목 | 경로 |
|------|------|
| 규칙 | `./RULES.md` |
| 콘텐츠 | `./contents/` |
| 게시 완료 | `./contents/4_posted/` |
| 스크립트 | `./services/scripts/` |
| 표지 생성기 | `./services/scripts/blog_cover_v2.py` |
| 로그 | `./config/logs/` |
| 환경변수 | `./.env` |

---

## 📊 콘텐츠 상태 폴더

```
contents/
├── 1_cover_only/     ← 표지만 (150개 대기)
├── 2_body_ready/     ← 본문 완료 (7개)
├── 3_approved/       ← PD 승인 (2개)
├── 4_posted/         ← 게시 완료 (42개)
└── 5_archived/       ← 비활성
```

---

## 🎯 세션 시작 체크리스트

세션 시작 시 아래를 자동 수행:

1. ✅ 이 CLAUDE.md 읽음
2. ✅ RULES.md 전문 확인
3. ✅ .env 로드 확인 (API 키)
4. ✅ PD 첫 지시 대기

**첫 응답에 아래 문구 포함:**
> "CLAUDE.md 로드 완료. RULES.md 기준으로만 작업합니다."

---

## 🏷️ 팀 구조

| 역할 | 담당 | 책임 |
|------|------|------|
| PD (박세준) | 최종 승인/게시 | 의사결정권자 |
| 김부장 (Opus) | 전략/검수 | 규칙 설계, 품질 판정 |
| 최부장 (Claude Code) | 실행 | 코드, 이미지, HTML 제작 |
| 레드2 (Gemini) | 리스크 분석 | 구조 결함 판정 |

---

## 📌 비용 규칙

- 유료 API 호출, 구독 서비스 등 비용 발생 작업은 실행 전 PD 승인 필수
- 무단 실행 시 규칙 위반으로 처리

---

_마지막 업데이트: 2026-02-10_
_버전: 2.0 (R2 리스크 차단 — 세션 자동 규칙 로딩)_
