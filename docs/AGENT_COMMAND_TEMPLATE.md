# Project Sunshine - 에이전트 명령 템플릿 v1.0

> 최종 업데이트: 2026-02-02
> 작성: 김부장 (Claude Opus 4.5)

---

## 📋 레이어 구조

```
┌─────────────────────────────────────────┐
│              PD (박세준)                 │
│           의사결정 / 승인                │
└──────────────────┬──────────────────────┘
                   │
       ┌───────────┴───────────┐
       ▼                       ▼
┌─────────────────┐     ┌─────────────────┐
│    김부장        │     │    최부장        │
│  (이 채팅방)     │────▶│  (Claude Code)  │
│                 │     │                 │
│  전략/분석/보고  │     │  코드/자동화     │
└─────────────────┘     └────────┬────────┘
                                 │
                                 ▼
                        ┌───────────────┐
                        │  파이프라인    │
                        │  (Python)     │
                        └───────────────┘
```

---

## 🔵 Layer 1: 외부 에이전트 (이름 사용)

| 이름 | 플랫폼 | 역할 | 할 수 있는 것 | 할 수 없는 것 |
|------|--------|------|--------------|--------------|
| **김부장** | Claude Opus 4.5 (채팅방) | 전략/분석/보고 | 명령서 작성, 분석, 판단, 보고 | 코드 실행, 파일 수정, 직접 게시 |
| **최부장** | Claude Code (로컬) | 코드/자동화 | 코드 실행, 파일 수정, 시트 동기화 | 전략 판단, 승인 없는 실행 |
| **안티그라비티** | Nano Banana Pro | 이미지 생성 | AI 이미지 생성 | 코드 실행, 분석 |

---

## 🟢 Layer 2: 내부 파이프라인 (파일명만 사용)

| 파일명 | 역할 | 호출 시점 |
|--------|------|----------|
| `planner.py` | 콘텐츠 기획 | 파이프라인 시작 |
| `image_generator.py` | 이미지 생성 | 본문 슬라이드 |
| `text_overlay.py` | 텍스트 합성 | 이미지 후처리 |
| `quality_checker.py` | 품질 검수 | 게시 전 |
| `publisher.py` | Instagram 게시 | 최종 단계 |
| `caption.py` | 캡션 생성 | 게시 전 |
| `fact_checker.py` | 팩트체크 | 콘텐츠 검증 |
| `scheduler.py` | 자동 스케줄링 | 예약 게시 |
| `retry.py` | 에러 복구 | 실패 시 |
| `cover_manager.py` | 커버 이미지 관리 | 표지 이동/동기화 |

---

## ✅ 올바른 명령 패턴

### 김부장에게 (전략/분석/보고)

```
✅ "김부장, Phase 4 방향 분석해줘"
✅ "김부장, 오늘 작업 보고 정리해줘"
✅ "김부장, 이 문제 원인 분석해줘"
✅ "김부장, 최부장 명령서 작성해줘"
```

### 최부장에게 (코드/자동화)

```
✅ "최부장, 스케줄러 설정해"
✅ "최부장, 시트 동기화해"
✅ "최부장, cover_manager.py 실행해"
✅ "최부장, 중복 체크 로직 추가해"
```

### 내부 파이프라인 (파일명 사용)

```
✅ "publisher.py 결과 확인해"
✅ "scheduler.py 07:30 설정 확인"
✅ "quality_checker.py 검수 결과"
```

### 안티그라비티 (이미지 생성)

```
✅ "안티그라비티에 이미지 생성 요청"
✅ "이미지 생성 요청: 오징어, 멸치, 김, 황태"
```

---

## ❌ 금지 패턴

### 내부 에이전트에 사람 이름 사용

```
❌ "김대리, 게시해" → ✅ "publisher.py 실행해"
❌ "박과장, 검수해" → ✅ "quality_checker.py 실행해"
❌ "이작가, 이미지 만들어" → ✅ "image_generator.py 실행해"
❌ "김차장, 기획해" → ✅ "planner.py 실행해"
```

### 역할 혼동

```
❌ "김부장, 코드 실행해" → 김부장은 실행 불가
❌ "최부장, 전략 판단해" → 최부장은 실행만
❌ "안티그라비티, 분석해" → 이미지 생성만 가능
```

---

## 📝 실제 사용 예시

### 예시 1: 새 콘텐츠 게시 요청

```
PD: "오리고기 내일 게시해줘"

김부장 응답:
"최부장 지시서 작성합니다.

[최부장 지시]
1. content_map에 duck 데이터 확인
2. scheduler.py에 07:30 스케줄 등록
3. 완료 후 보고"

최부장 실행 → 결과 보고
```

### 예시 2: 이미지 제작 요청

```
PD: "오징어 표지 만들어줘"

김부장 응답:
"안티그라비티 이미지 생성 요청 명령서 작성합니다.

[이미지 생성 요청]
- 대상: 오징어 (squid)
- 프롬프트: (상세 내용)
- 출력: 1080x1350px"
```

### 예시 3: 문제 해결 요청

```
PD: "시트 중복 왜 생겼어?"

김부장 응답:
"원인 분석합니다.
(분석 내용)

해결을 위해 최부장 지시서 작성합니다.

[최부장 지시]
1. cover_manager.py에 중복 체크 로직 추가
2. 기존 중복 항목 삭제"
```

---

## 🔄 명령 흐름 요약

```
1. PD 지시
      ↓
2. 김부장 분석/명령서 작성
      ↓
3. 최부장 실행 (또는 안티그라비티 이미지 생성)
      ↓
4. 파이프라인 자동 실행 (scheduler.py, publisher.py 등)
      ↓
5. 결과 → Google Sheets + Instagram
      ↓
6. 김부장 결과 보고
```

---

## 📌 핵심 규칙 3줄 요약

```
1. 외부 에이전트 = 이름 (김부장, 최부장, 안티그라비티)
2. 내부 에이전트 = 파일명 (publisher.py, scheduler.py)
3. 역할 넘어가는 요청 = 거부 후 올바른 대상 안내
```

---

*이 템플릿은 Project Sunshine 공식 운영 규칙입니다.*
