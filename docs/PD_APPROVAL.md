# PD Approval Rules

> PD ìŠ¹ì¸ì„ ëª…í™•í•œ ìƒíƒœ ë¨¸ì‹ ìœ¼ë¡œ ê³ ì •í•©ë‹ˆë‹¤.
> "ìŠ¹ì¸ ì—†ì´ ê²Œì‹œ" ì‚¬ê³ ë¥¼ êµ¬ì¡°ì ìœ¼ë¡œ ì°¨ë‹¨í•©ë‹ˆë‹¤.

---

## ìƒíƒœ ì •ì˜

| ìƒíƒœ | ì˜ë¯¸ | ìë™í™” ê°€ëŠ¥ |
|------|------|------------|
| `generated` | ì´ë¯¸ì§€ ìƒì„± ì™„ë£Œ | âœ… |
| `verified` | ê·œì¹™ ê²€ì¦ ì™„ë£Œ | âœ… |
| `approved` | PD ìŠ¹ì¸ ì™„ë£Œ | âŒ ì‚¬ëŒë§Œ |
| `published` | Instagram ê²Œì‹œ ì™„ë£Œ | âœ… |

---

## í•µì‹¬ ì›ì¹™

### 1. approved=false ì½˜í…ì¸ ëŠ” ê²Œì‹œ íŒŒì´í”„ë¼ì¸ ì§„ì… ê¸ˆì§€

```python
def can_publish(content):
    if not content.get('pd_approved', False):
        raise BlockedError("PD ìŠ¹ì¸ í•„ìš”")
    return True
```

### 2. ìë™í™”ëŠ” verifiedê¹Œì§€ë§Œ í—ˆìš©

```
[ìë™] generated â†’ verified
[ìˆ˜ë™] verified â†’ approved (PDë§Œ)
[ìë™] approved â†’ published
```

### 3. approvedëŠ” ë°˜ë“œì‹œ ì‚¬ëŒ ì…ë ¥

```
í—ˆìš©ëœ ìŠ¹ì¸ ë°©ë²•:
â”œâ”€â”€ í…”ë ˆê·¸ë¨ /ìŠ¹ì¸ ëª…ë ¹ì–´
â”œâ”€â”€ í…”ë ˆê·¸ë¨ [ìŠ¹ì¸] ë²„íŠ¼ í´ë¦­
â””â”€â”€ metadata.json ì§ì ‘ ìˆ˜ì • (pd_approved: true)

ê¸ˆì§€:
â”œâ”€â”€ ìë™ ìŠ¹ì¸
â”œâ”€â”€ ì‹œê°„ ê²½ê³¼ í›„ ìë™ ìŠ¹ì¸
â””â”€â”€ "ì˜¤ë¥˜ ì—†ìœ¼ë©´ ìë™ ìŠ¹ì¸"
```

---

## ë©”íƒ€ë°ì´í„° í•„ë“œ

### í•„ìˆ˜ í•„ë“œ ì¶”ê°€

```json
{
  "food_id": "celery",
  "status": "verified",
  "pd_approved": false,
  "approved_at": null,
  "approved_by": null
}
```

### ìŠ¹ì¸ í›„ ìƒíƒœ

```json
{
  "food_id": "celery",
  "status": "approved",
  "pd_approved": true,
  "approved_at": "2026-02-03T17:30:00",
  "approved_by": "PD_telegram"
}
```

---

## í…”ë ˆê·¸ë¨ ìŠ¹ì¸ í”Œë¡œìš°

### ìŠ¹ì¸ ëŒ€ê¸° ì•Œë¦¼

```
âœ… ê²€ì¦ ì™„ë£Œ - ìŠ¹ì¸ ëŒ€ê¸°

ğŸ“ ì½˜í…ì¸ : celery (ì…€ëŸ¬ë¦¬)
ğŸ–¼ï¸ ì´ë¯¸ì§€: 4ì¥
ğŸ“‹ ê·œì¹™: cover_v1, body_safe_v1

[ğŸ‘€ ë¯¸ë¦¬ë³´ê¸°] [âœ… ìŠ¹ì¸] [âŒ ë°˜ë ¤]
```

### ìŠ¹ì¸ ëª…ë ¹ì–´

```
/ìŠ¹ì¸ celery
â†’ "celery ì½˜í…ì¸ ê°€ ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤. ê²Œì‹œ ê°€ëŠ¥ ìƒíƒœì…ë‹ˆë‹¤."

/ë°˜ë ¤ celery ìƒ‰ìƒì´_ì´ìƒí•¨
â†’ "celery ì½˜í…ì¸ ê°€ ë°˜ë ¤ë˜ì—ˆìŠµë‹ˆë‹¤. ì‚¬ìœ : ìƒ‰ìƒì´_ì´ìƒí•¨"
```

### ìŠ¹ì¸ í›„ ê²Œì‹œ ë²„íŠ¼ í™œì„±í™”

```
âœ… PD ìŠ¹ì¸ ì™„ë£Œ

ğŸ“ ì½˜í…ì¸ : celery (ì…€ëŸ¬ë¦¬)
â° ìŠ¹ì¸ ì‹œê°: 2026-02-03 17:30

[ğŸš€ ê²Œì‹œí•˜ê¸°] [â¬…ï¸ ë’¤ë¡œ]
```

---

## ë°˜ë ¤ ì²˜ë¦¬

### ë°˜ë ¤ ì‹œ ìƒíƒœ

```json
{
  "status": "rejected",
  "pd_approved": false,
  "rejected_at": "2026-02-03T17:35:00",
  "rejected_reason": "ìƒ‰ìƒì´_ì´ìƒí•¨"
}
```

### ë°˜ë ¤ í›„ í”Œë¡œìš°

```
[rejected] â†’ [ìˆ˜ì • í•„ìš”] â†’ [ì¬ìƒì„±] â†’ [generated] â†’ ...
```

---

## ìƒíƒœ ì „ì´ ë‹¤ì´ì–´ê·¸ë¨

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  generated  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
                           â”‚ ìë™ ê²€ì¦
                           â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
              â”Œâ”€â”€â”€â”€â”€â”‚  verified   â”‚â”€â”€â”€â”€â”€â”
              â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
              â”‚                         â”‚
         PD ìŠ¹ì¸                    PD ë°˜ë ¤
              â”‚                         â”‚
              â–¼                         â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  approved   â”‚          â”‚  rejected   â”‚
       â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
              â”‚                        â”‚
         ìë™ ê²Œì‹œ                   ì¬ìƒì„±
              â”‚                        â”‚
              â–¼                        â–¼
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚  published  â”‚          â”‚  generated  â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## êµ¬í˜„ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] metadata.jsonì— pd_approved í•„ë“œ ì¶”ê°€
- [ ] ê²Œì‹œ ì „ pd_approved ê²€ì¦ ë¡œì§ ì¶”ê°€
- [ ] í…”ë ˆê·¸ë¨ /ìŠ¹ì¸, /ë°˜ë ¤ ëª…ë ¹ì–´ ì¶”ê°€
- [ ] ìŠ¹ì¸ ë²„íŠ¼ UI ì¶”ê°€
- [ ] ë¯¸ìŠ¹ì¸ ì½˜í…ì¸  ê²Œì‹œ ë²„íŠ¼ ë¹„í™œì„±í™”

---

**ì‘ì„±:** ê¹€ë¶€ì¥ + ë ˆë“œ2
**ìŠ¹ì¸:** ë°•ì„¸ì¤€ PD
**ë²„ì „:** 1.0.0
**ë‚ ì§œ:** 2026-02-03
