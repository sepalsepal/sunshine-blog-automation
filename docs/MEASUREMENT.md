# Measurement (측정 기준 및 기록)

> **버전:** v0.1
> **작성일:** 2026-01-31
> **기준 문서:** Project_Sunshine_Execution_Guidebook_v1.1.md
> **목적:** AOC 시스템 성과 측정, 개선 근거 데이터 수집

---

## 핵심 지표 (KPI)

### 1. 무인 통과율 (Auto-Pass Rate)

```
정의: 사람 개입 없이 자동 게시된 콘텐츠 비율
공식: (자동 게시 수 / 전체 생성 수) × 100

목표:
- Phase 1 (Day 1~7): 측정만 (기준선 확립)
- Phase 2 (Day 8~14): 50%+
- Phase 3 (Day 15~): 80%+
```

### 2. FAIL 비율 (Failure Rate)

```
정의: 전체 콘텐츠 중 FAIL 발생 비율
공식: (FAIL 콘텐츠 수 / 전체 생성 수) × 100

목표:
- Phase 1: 측정만
- Phase 2: 30% 이하
- Phase 3: 15% 이하
```

### 3. 재작업률 (Rework Rate)

```
정의: 1회 이상 재생성이 필요했던 콘텐츠 비율
공식: (재생성 콘텐츠 수 / 전체 생성 수) × 100

목표:
- Phase 1: 측정만
- Phase 2: 40% 이하
- Phase 3: 20% 이하
```

### 4. 평균 품질 점수 (Avg Quality Score)

```
정의: Agent B의 평균 판단 점수
공식: Σ(Agent B 점수) / 콘텐츠 수

목표:
- Phase 1~2: 70점+
- Phase 3: 80점+
```

### 5. 비용 효율성 (Cost Efficiency)

```
정의: 콘텐츠 1개당 평균 비용
공식: 총 비용 / 게시 콘텐츠 수

목표:
- 일일 상한: $3
- 월간 상한: $50
- 콘텐츠당: $0.50 이하
```

---

## 측정 주기

| 주기 | 측정 항목 | 기록 위치 |
|------|----------|----------|
| **매 콘텐츠** | Agent B~E 판단 결과 | SESSION_LOG |
| **매일** | 일일 통계 (생성/게시/FAIL) | 아래 표 |
| **Day 7** | 주간 종합 (Top3 FAIL) | FAILURE_MAP |
| **Day 14** | 2주 종합 + AOC 수정 검토 | CHANGELOG |

---

## 일일 측정 기록

### 템플릿

```markdown
## [YYYY-MM-DD] 일일 측정

| 지표 | 값 | 목표 | 상태 |
|------|-----|------|------|
| 생성 콘텐츠 | X개 | - | - |
| 자동 게시 | X개 | - | - |
| FAIL 발생 | X개 | - | - |
| 재생성 | X회 | - | - |
| 평균 점수 | XX점 | 70점+ | ✅/❌ |
| 비용 | $X.XX | $3 | ✅/❌ |
| 무인 통과율 | XX% | - | - |
```

---

## Day 1~7 측정 기록

### 2026-01-31 (Day 1~2)

| 지표 | 값 | 목표 | 상태 |
|------|-----|------|------|
| 생성 콘텐츠 | 0개 | - | - |
| 자동 게시 | 0개 | - | - |
| FAIL 발생 | 0개 | - | - |
| 재생성 | 0회 | - | - |
| 평균 점수 | -점 | 70점+ | - |
| 비용 | $0.00 | $3 | ✅ |
| 무인 통과율 | -% | - | - |

**비고:** Day 1~2는 AOC 시스템 문서화 작업. 콘텐츠 생성 없음.

---

### 2026-01-31 (Day 3) - AOC 테스트 시작

| 지표 | 값 | 목표 | 상태 |
|------|-----|------|------|
| 테스트 콘텐츠 | 1개 | 2~3개 | 진행중 |
| AUTO_PUBLISH | 1개 | - | ✅ |
| FAIL 발생 | 0개 | - | ✅ |
| 재생성 | 0회 | - | ✅ |
| 평균 점수 | 90점 | 70점+ | ✅ |
| 비용 | $0.00 | $3 | ✅ |
| 무인 통과율 | 100% | - | ✅ |

**테스트 상세:**

| # | 콘텐츠 | Agent B | Agent C | Agent D | Agent E | 판정 |
|---|--------|:-------:|:-------:|:-------:|:-------:|:----:|
| 1 | celery | 90점 | PASS(1) | PASS(0) | PASS | AUTO_PUBLISH |
| 2 | poached_egg | 78점 | PASS(1) | PASS(0) | PASS | AUTO_PUBLISH |
| 3 | salmon | 80점 | PASS(1) | PASS(1) | PASS | RF1-TAGGED |

**Day 3~4 종합:**
- 테스트 콘텐츠: 8개
- AUTO_PUBLISH: 7개 (87.5%)
- RF1-TAGGED: 1개 (salmon)
- FAIL (STOP): 1개 (icecream - 캡션/이미지 불일치)
- 평균 점수: 87.1점
- 무인 통과율: 87.5%

**Day 4 추가 테스트:**

| # | 콘텐츠 | Agent B | Agent C | Agent D | Agent E | 판정 |
|---|--------|:-------:|:-------:|:-------:|:-------:|:----:|
| 4 | kale | 94점 | PASS(0) | PASS(0) | PASS | AUTO_PUBLISH |
| 5 | chicken | 97점 | PASS(0) | PASS(0) | PASS | AUTO_PUBLISH |
| 6 | icecream | 68점 | PASS(1) | FAIL(2) | PASS | 🛑 STOP |
| 7 | budweiser | 96점 | PASS(0) | PASS(0) | PASS | AUTO_PUBLISH |
| 8 | tuna | 94점 | PASS(0) | PASS(0) | PASS | AUTO_PUBLISH |

---

### 2026-02-01 (Day 2) - 예정

| 지표 | 값 | 목표 | 상태 |
|------|-----|------|------|
| 생성 콘텐츠 | -개 | 1개 | - |
| 자동 게시 | -개 | - | - |
| FAIL 발생 | -개 | - | - |
| 재생성 | -회 | - | - |
| 평균 점수 | -점 | 70점+ | - |
| 비용 | $-.-- | $3 | - |
| 무인 통과율 | -% | - | - |

---

## Agent별 성과 측정

### Agent B (품질 판단)

| 항목 | 측정 방법 | 기록 |
|------|----------|------|
| 정확도 | PD 최종 판단과 일치율 | - |
| 일관성 | 동일 콘텐츠 재판단 시 편차 | - |
| 속도 | 판단 소요 시간 | - |

### Agent C (자동화 판정)

| 항목 | 측정 방법 | 기록 |
|------|----------|------|
| 예측 정확도 | 실제 개입 여부와 일치율 | - |
| False Positive | 불필요한 개입 요청 비율 | - |

### Agent D (실패 예측)

| 항목 | 측정 방법 | 기록 |
|------|----------|------|
| Red Flag 정확도 | 실제 사고와 일치율 | - |
| 사전 차단율 | 예측으로 막은 L3/L4 비율 | - |

### Agent E (비용/재사용)

| 항목 | 측정 방법 | 기록 |
|------|----------|------|
| 비용 추정 정확도 | 실제 비용과 편차 | - |
| 재사용 추천 성공률 | 실제 재사용된 비율 | - |

---

## 누적 통계

### Phase 1 (Day 1~7)

| 지표 | 누적 값 | 평균 |
|------|--------|------|
| 총 생성 | 0개 | - |
| 총 게시 | 0개 | - |
| 총 FAIL | 0개 | - |
| 총 비용 | $0.00 | - |
| 무인 통과율 | -% | - |

### Phase 2 (Day 8~14)

| 지표 | 누적 값 | 평균 |
|------|--------|------|
| 총 생성 | -개 | - |
| 총 게시 | -개 | - |
| 총 FAIL | -개 | - |
| 총 비용 | $-.-- | - |
| 무인 통과율 | -% | - |

---

## FAIL 유형별 통계

| FAIL 코드 | 발생 수 | 비율 | 추세 |
|-----------|--------|------|------|
| F1 (판단 불가) | 0 | - | - |
| F2 (기준 충돌) | 0 | - | - |
| F3 (데이터 부족) | 0 | - | - |
| F4 (규칙 위반) | 0 | - | - |
| F5 (반복 실패) | 0 | - | - |
| **합계** | 0 | 100% | - |

---

## 회복점 체크리스트

### Day 7 회복점

```
□ FAIL 패턴 Top3 정리 완료
□ F2 (기준 충돌) 리뷰 완료
□ 무인 통과율 첫 측정 완료
□ AOC v0.2 수정 필요 여부 결정
□ LRC 사이클 1 완료 여부 확인
```

### Day 14 회복점

```
□ FAIL 패턴 Top5 정리 완료
□ F2 누적 리뷰 완료
□ 수동 개입 Top2 지점 확인
□ 2주 전체 데이터 종합 완료
□ Phase 3 진입 조건 충족 여부 판단
```

---

## 개선 트리거

### AOC 규칙 수정 트리거

```
- 동일 FAIL 유형 3회 이상 발생
- 무인 통과율 Phase 목표 미달
- F2 (기준 충돌) 2회 이상 발생
- 비용 일일 상한 2일 연속 초과
```

### LRC 변수 변경 트리거

```
- 현재 사이클 (10개) 완료
- Top3 FAIL 유형 중 1개 해결 시도
- PD 승인 시 (예외적 3개 변수 가능)
```

---

## SUCCESS_PATTERN (Day 3~4 기록)

| 콘텐츠 | Self-score | 상위 요인 | 소요시간 |
|--------|-----------|----------|---------|
| celery | 90 | 정확도, 포맷 적합성 | - |
| poached_egg | 78 | 톤 일관성 | - |
| kale | 94 | 정확도, 브랜드 일관성 | - |
| chicken | 97 | 정확도, 톤, 구체적 급여량 | - |
| budweiser | 96 | 위험 경고 일관성 | - |
| tuna | 94 | 정확도, 주의사항 명시 | - |
| salmon | 80 | 정확도 (RF1: 브랜드 문제) | - |

### 성공 패턴 요약
- 평균 점수 87점 이상 달성 요인:
  1. 정확한 안전 정보
  2. 구체적 급여량/빈도 명시
  3. 일관된 톤
  4. 캡션-이미지 정합성 (icecream 실패 원인)

### 실패 패턴 요약
- icecream (68점) 실패 원인:
  1. 캡션 "먹어도 돼요" ↔ 이미지 "급여 금지" 불일치
  2. 의미적 정합성 결여

---

**마지막 업데이트:** 2026-01-31
**버전:** v0.2
