# LRC v0.1 (Learning Rate Control)

> **버전:** v0.1
> **작성일:** 2026-01-31
> **기준 문서:** Project_Sunshine_Execution_Guidebook_v1.1.md
> **목적:** FREEZE 대신 적용. 변경 속도를 통제.

---

## 핵심 규칙

```
한 사이클 (최소 10개 콘텐츠) 동안
동시에 바꿀 수 있는 변수: 최대 2개
```

---

## 변수 정의

| 카테고리 | 변수 예시 |
|----------|----------|
| **프롬프트** | 이미지 프롬프트 구조, 텍스트 톤 |
| **스타일** | 색상, 폰트, 레이아웃 |
| **에이전트** | AOC 규칙, Agent 역할 |
| **도구** | MCP 추가, API 변경 |
| **구조** | 파일 구조, 폴더 규칙 |

---

## 허용/금지 예시

### ✅ 허용 (변수 2개 이하)

| 변경 1 | 변경 2 | 변수 수 | 판정 |
|--------|--------|:-------:|:----:|
| 프롬프트 구조 | 이미지 스타일 | 2 | ✅ |
| Agent A 규칙 | 텍스트 톤 | 2 | ✅ |
| 폰트 크기 | 색상 | 2 | ✅ |
| 프롬프트만 | - | 1 | ✅ |

### ❌ 금지 (변수 3개 이상)

| 변경 1 | 변경 2 | 변경 3 | 변수 수 | 판정 |
|--------|--------|--------|:-------:|:----:|
| 프롬프트 | 에이전트 역할 | MCP 추가 | 3 | ❌ |
| 색상 | 폰트 | 레이아웃 | 3 | ❌ |
| AOC | PJT | FAIL 유형 | 3 | ❌ |

---

## 사이클 정의

```
1 사이클 = 10개 콘텐츠 생성 완료

사이클 시작: 첫 번째 콘텐츠 생성
사이클 종료: 10번째 콘텐츠 판정 완료

사이클 중간에 변수 변경 금지
→ 다음 사이클까지 대기
```

---

## LRC 위반 시 처리

```
1. 변경 롤백
2. docs/CHANGELOG.md에 위반 기록
3. 다음 사이클까지 변경 잠금
```

---

## LRC 목적

### 원인 추적 가능성 유지

```
변수가 적으면:
- FAIL 원인 특정 가능
- A/B 테스트 의미 있음
- Failure Map 데이터 신뢰도 높음

변수가 많으면:
- FAIL 원인 불명확
- "뭘 바꿔서 그런지 모름"
- 데이터 무의미
```

### Failure Map 품질 보장

```
LRC 준수 → 변수 2개 이하 → 원인 특정 → 패턴 발견 → 자동화 개선
LRC 위반 → 변수 다수 → 원인 불명 → 패턴 없음 → 개선 불가
```

---

## 변경 기록 형식

### docs/CHANGELOG.md

```markdown
## [날짜] 사이클 N

### 변경 변수 (최대 2개)
1. [변수1]: [변경 내용]
2. [변수2]: [변경 내용]

### 측정 결과
- 콘텐츠 수: 10개
- FAIL 수: X개
- 주요 FAIL 유형: FX

### 다음 사이클 계획
- [변경 예정 변수]
```

---

## 예외 상황

### 긴급 롤백

```
조건: L3/L4 사고 2회 연속 발생
허용: LRC 무시하고 즉시 롤백
기록: "EMERGENCY-ROLLBACK" 태그
```

### PD 승인 변경

```
조건: PD님 명시적 승인
허용: 변수 3개까지 가능 (1회성)
기록: "PD-APPROVED: [사유]"
```

---

---

## Cycle 2 변경 변수 선언 (Day 5~6)

```
변경 변수 1: 의도적 실패 테스트 투입 (난이도 상승)
변경 변수 2: Agent B 의미 정합성 강화 (v0.2)

※ 병렬 확장은 Cycle 3 (Day 7+)으로 이월
※ 이유: 실패 감지 정확도 검증 우선
```

### Cycle 2 결과

| 변수 | 효과 |
|------|------|
| 의도적 실패 테스트 | FAIL 발생률 60% (목표 20~40% 초과) |
| Agent B v0.2 | 캡션/이미지 불일치 정확히 감지 |

---

## Cycle 3 변경 변수 선언 (Day 7+)

```
변경 변수 1: AOC v0.3 캡션-안전분류 제약 로직 추가
변경 변수 2: 미완성 콘텐츠 완성 (onion, garlic 등)

※ Phase 2 병렬 확장은 Cycle 4로 이월
※ 이유: 구조적 결함 제거 우선
```

### Cycle 3 목표

| 지표 | 목표 |
|------|------|
| F2 재발 | 0건 |
| 미완성 콘텐츠 완성 | 5건+ |
| 무인 통과율 | 80%+ |

---

## Cycle 4 변경 변수 선언 (Day 8~10)

```
변경 변수 1: 안전 프로토콜 #6 (캡션-이미지 불일치 체크)
변경 변수 2: 병렬 2 Task 구조 활성화

※ 구조 변경은 Cycle 3에서 완료
※ Cycle 4는 "프로토콜 + 확장" 단계
```

### Cycle 4 목표

| 지표 | 목표 |
|------|------|
| SRR | 0% (유지) |
| SFDR | ≥95% |
| L3+L4 중 F3 비율 | ≥80% |
| 병렬 2 Task 충돌 | 0건 |
| 질문 발생 | 0회 |

---

**마지막 업데이트:** 2026-01-31 (Day 8)
**버전:** v0.4
